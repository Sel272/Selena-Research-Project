<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Research Project - Naïve Bayes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../NaiveBayes/naivebayes.html">Naïve Bayes</a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../Image/georgetown logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../About/About.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About Me</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Introduction/Introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://github.com/Sel272/Selena-Research-Project" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Code</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Data/data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../DataGathering/datagathering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Gathering</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../DataCleaning/datacleaning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Cleaning</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../DataExploration/dataexploration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Exploration</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../NaiveBayes/naivebayes.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Naïve Bayes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Clustering/clustering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Clustering</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../DimensionalityReduction/dimensionalityreduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dimensionality Reduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../DecisionTrees/decisiontrees.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Decision Trees</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Conclusions/conclusions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Conclusions</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction-to-naive-bayes" id="toc-introduction-to-naive-bayes" class="nav-link active" data-scroll-target="#introduction-to-naive-bayes">Introduction to Naive Bayes</a></li>
  <li><a href="#prepare-your-data-for-naive-bayes" id="toc-prepare-your-data-for-naive-bayes" class="nav-link" data-scroll-target="#prepare-your-data-for-naive-bayes">Prepare your Data for Naive Bayes</a></li>
  <li><a href="#feature-selection" id="toc-feature-selection" class="nav-link" data-scroll-target="#feature-selection">Feature selection</a>
  <ul class="collapse">
  <li><a href="#record-data" id="toc-record-data" class="nav-link" data-scroll-target="#record-data">Record Data</a></li>
  <li><a href="#text-data" id="toc-text-data" class="nav-link" data-scroll-target="#text-data">Text Data</a></li>
  </ul></li>
  <li><a href="#naïve-bayes-nb-with-labeled-record-data" id="toc-naïve-bayes-nb-with-labeled-record-data" class="nav-link" data-scroll-target="#naïve-bayes-nb-with-labeled-record-data">Naïve Bayes (NB) with Labeled Record Data</a></li>
  <li><a href="#naïve-bayes-nb-with-labeled-text-data" id="toc-naïve-bayes-nb-with-labeled-text-data" class="nav-link" data-scroll-target="#naïve-bayes-nb-with-labeled-text-data">Naïve Bayes (NB) with Labeled Text Data</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Naïve Bayes</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introduction-to-naive-bayes" class="level2">
<h2 class="anchored" data-anchor-id="introduction-to-naive-bayes">Introduction to Naive Bayes</h2>
<p>Naive Bayes is a probabilistic classification algorithm anchored in Bayes’ theorem. It calculates the likelihood of a class based on given features, operating under the simple yet often effective assumption that all features are independent. This “naive” approach aims to determine the most probable category for a data instance, leveraging the theorem’s mathematical principles for both its simplicity and accuracy.</p>
<p>In this project, the primary objective is to leverage the Naive Bayes classification method to discern patterns related to cardiovascular risk. Given its foundation in Bayes’ theorem, the algorithm will provide a probabilistic understanding of the data, potentially offering a unique perspective on the complex interplay of factors leading to cardiovascular ailments. By analyzing the individual and combined effects of various health metrics and lifestyle choices, we aim to develop a robust model that can predict cardiovascular risk with a high degree of accuracy.</p>
<p><u>Variants of Naive Bayes</u></p>
<p>There are several flavors of Naive Bayes, tailored for different types of data:</p>
<ul>
<li><p>Gaussian Naive Bayes: Ideal for handling continuous data, this variant assumes that data for each class is distributed according to a Gaussian (normal) distribution. For data that appears to follow a normal distribution, Gaussian Naive Bayes is typically preferred.</p></li>
<li><p>Multinomial Naive Bayes: Best suited for features representing counts or discrete frequency data, it’s often the go-to for text classification tasks. When working with count data, such as word frequencies in text, Multinomial Naive Bayes shines.</p></li>
<li><p>Bernoulli Naive Bayes: Tailored for binary data, this approach models features using the Bernoulli distribution. For binary or Boolean features, Bernoulli Naive Bayes is often the best choice.</p></li>
</ul>
</section>
<section id="prepare-your-data-for-naive-bayes" class="level2">
<h2 class="anchored" data-anchor-id="prepare-your-data-for-naive-bayes">Prepare your Data for Naive Bayes</h2>
<p>To successfully implement Naive Bayes classification, labeled text or recorded data relevant to the project is crucial. After obtaining and carefully cleaning this data set, it must be divided into training, validation, and test subsets. This policy partitioning plays a fundamental role in machine learning. The training set is used to build the model, the validation set aids in refining the model through hyperparameter tuning, and the test set, serving as an unseen dataset, assesses its effectiveness by comparing predicted outcomes with actual results. Such partitioning ensures that the model actually recognizes patterns and does not just memorize the data, or called overfitting. This approach enhances the model’s resilience and credibility when new, unfamiliar data is introduced.</p>
</section>
<section id="feature-selection" class="level2">
<h2 class="anchored" data-anchor-id="feature-selection">Feature selection</h2>
<p>Feature selection is vital for the success of a data science project, aiming to pinpoint the most relevant dataset attributes. Proper feature selection boosts model performance, minimizes overfitting, and clarifies result interpretation.</p>
<section id="record-data" class="level3">
<h3 class="anchored" data-anchor-id="record-data">Record Data</h3>
<p>For record data we define the following metric for the feature selection process.</p>
<p><span class="math display">\[ \mathrm {Merit} _{S_{k}}={\frac {k|{\overline {r_{cf}}|}}{\sqrt {k+k(k-1)|{\overline {r_{ff}}}|}}}  \]</span></p>
<p><span class="math inline">\(\overline{r_{xy}}\)</span> is the average value of all input-output (feature-target) Spearman correlations</p>
<p><span class="math inline">\(\overline{r_{xx}}\)</span> is the average value of all input-input (feature-feature) Spearman correlations</p>
<p>Note: The vertical lines denote absolute values</p>
<p>Merit refers to a score or measure that quantifies the quality or importance of a subset of features. It’s a way to evaluate how well a particular subset of features might perform in a predictive model.</p>
<p>I iterated through all possible subsets of feature variables and calculated the Merit information for each one. The subset with the highest Merit was then selected. Given the relatively high dimension of features, considering all potential subset combinations in one loop would be cumbersome. As a solution, I divided the search into two parts: first, iterating through the initial six features, and then separately looping through the remaining six features.</p>
<div id="e300f4fb" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>cardio <span class="op">=</span> pd.read_csv(<span class="st">"../Data/01-modified-data/cardiovascular_numeric_final.csv"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>cardio <span class="op">=</span> cardio.drop(columns<span class="op">=</span>[<span class="st">'Unnamed: 0'</span>, <span class="st">'id'</span>,<span class="st">'cardio'</span>])</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>cardio.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="1">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">weight</th>
<th data-quarto-table-cell-role="th">ap_hi</th>
<th data-quarto-table-cell-role="th">ap_lo</th>
<th data-quarto-table-cell-role="th">cholesterol</th>
<th data-quarto-table-cell-role="th">gluc</th>
<th data-quarto-table-cell-role="th">smoke</th>
<th data-quarto-table-cell-role="th">alco</th>
<th data-quarto-table-cell-role="th">active</th>
<th data-quarto-table-cell-role="th">bmi</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>50</td>
<td>2</td>
<td>168</td>
<td>62</td>
<td>110</td>
<td>80</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>21.97</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>55</td>
<td>1</td>
<td>156</td>
<td>85</td>
<td>140</td>
<td>90</td>
<td>3</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>34.93</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>52</td>
<td>1</td>
<td>165</td>
<td>64</td>
<td>130</td>
<td>70</td>
<td>3</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>23.51</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>48</td>
<td>2</td>
<td>169</td>
<td>82</td>
<td>150</td>
<td>100</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>28.71</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>48</td>
<td>1</td>
<td>156</td>
<td>56</td>
<td>100</td>
<td>60</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>23.01</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div>

</div>
<div id="Feature_selection_plots" class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../Image/Naive_Bayes_Record/Feature_Selection_2.png" class="img-fluid figure-img"></p>
<figcaption>Part 1</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../Image/Naive_Bayes_Record/Feature_Selection_1.png" class="img-fluid figure-img"></p>
<figcaption>Part 2</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>Based on the graphs presented earlier, features 1, 5, 6, 7, and 12 have been selected according to the Merit selection results. These features correspond to the subsequent variables.</p>
<div id="c0c5a9de" class="cell" data-execution_count="2">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>cardio <span class="op">=</span> pd.read_csv(<span class="st">"../Data/01-modified-data/cardiovascular_numeric_final.csv"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>cardio <span class="op">=</span> cardio.drop(columns<span class="op">=</span>[<span class="st">'Unnamed: 0'</span>, <span class="st">'id'</span>,<span class="st">'cardio'</span>])</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>cardio <span class="op">=</span> cardio.iloc[:,[<span class="dv">0</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">11</span>]]</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>cardio.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="2">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">ap_hi</th>
<th data-quarto-table-cell-role="th">ap_lo</th>
<th data-quarto-table-cell-role="th">cholesterol</th>
<th data-quarto-table-cell-role="th">bmi</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>50</td>
<td>110</td>
<td>80</td>
<td>1</td>
<td>21.97</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>55</td>
<td>140</td>
<td>90</td>
<td>3</td>
<td>34.93</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>52</td>
<td>130</td>
<td>70</td>
<td>3</td>
<td>23.51</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>48</td>
<td>150</td>
<td>100</td>
<td>1</td>
<td>28.71</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>48</td>
<td>100</td>
<td>60</td>
<td>1</td>
<td>23.01</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="text-data" class="level3">
<h3 class="anchored" data-anchor-id="text-data">Text Data</h3>
<div>

</div>
<div id="Feature_selection_plots" class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../Image/Naive_Bayes_Text/partial_grid_search-1.png" class="img-fluid figure-img"></p>
<figcaption>Accuracy vs Number of features</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../Image/Naive_Bayes_Text/partial_grid_search-2.png" class="img-fluid figure-img"></p>
<figcaption>Runtime vs Number of features</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../Image/Naive_Bayes_Text/partial_grid_search-3.png" class="img-fluid figure-img"></p>
<figcaption>Runtime vs Test Accuracies</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../Image/Naive_Bayes_Text/partial_grid_search-4.png" class="img-fluid figure-img"></p>
<figcaption>Train-Test Accuracies vs Number of features</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>In analyzing the text data, I begin by using a whitespace tokenizer to segment the text into distinct words and then convert them to lowercase to ensure uniformity during training. The corpus contains 3622 unique words. The training matrix for the x variable is converted into a binary format with dimensions (400, 3622). Here, each column signifies a distinct word, with its values—0 or 1—indicating absence or presence, respectively.</p>
<p>During the feature selection process, I iterated over the training matrix, examining all words across 100 iterations, each encompassing up to 1000 features. Although the total features count to 3622, I capped the maximum at 1000 for feature selection purposes. My selection focused on the features delivering the highest test accuracy. Settling on the top 100 features, I achieved a test accuracy of 76.25%. In the subsequent sections detailing model prediction results, these 100 features will be the basis for training.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../Image/textworldcloud.png" class="img-fluid figure-img" width="600"></p>
<figcaption>Text World Cloud</figcaption>
</figure>
</div>
</section>
</section>
<section id="naïve-bayes-nb-with-labeled-record-data" class="level2">
<h2 class="anchored" data-anchor-id="naïve-bayes-nb-with-labeled-record-data">Naïve Bayes (NB) with Labeled Record Data</h2>
<p>The dataset is divided into a training set and a test set using an 80/20 split. This division helps mitigate the risk of overfitting by not training the model on the entire dataset and provides a separate unseen test set to evaluate model performance. Since there were no hyperparameter tuning steps for my Naive Bayes Model, a validation dataset was not created during the data splitting step.</p>
<p>Overfitting and underfitting are prevalent challenges in the model training process, especially in supervised learning. Underfitting occurs when a model is too simplistic, failing to capture significant patterns within the dataset. This results in high bias and low variance, typically leading to subpar accuracy on both training and test data. Conversely, overfitting arises when the model is excessively complex, perhaps perfectly fitting the training data but faltering on new, unseen data. Such models often exhibit high training accuracy but poor test accuracy. From a bias-variance tradeoff perspective, overfit models exhibit low bias but high variance, as they may not generalize well to different datasets.</p>
<p>In my model, I carried out feature selection to mitigate the issues of overfitting and underfitting. I chose the features that offer the most information related to the response variable “cardio”. The optimal features selected are “age”, “ap_hi”, “ap_lo”, “cholesterol”, and “bmi”.</p>
<p>The Multinomial Naive Bayes model was utilized for this analysis. I trained the model using the training dataset and subsequently made predictions on the test set. These predictions were then compared with the actual labels to derive performance metrics, including accuracy and F1-score.</p>
<p>I achieved the following accuracy and F1-score values for the training and test data.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../Image/Naive_Bayes_Record/accuracy_f1.png" class="img-fluid figure-img"></p>
<figcaption>Accuracy &amp; F1-score</figcaption>
</figure>
</div>
<p>Both the training and test accuracies are modest, averaging around 60%. For a binary classification, even a random guess could achieve about 50% accuracy, highlighting the limited performance of the Naive Bayes model on this dataset. The F1-scores for the training and test sets hover around 0.528, a value considerably distant from the ideal score of 1 for high-performing models. Given the modest accuracy observed for both training and test data, it’s unlikely that the model experienced either overfitting or underfitting during the training process.</p>
<p>Here are the confusion matrices derived from both the training and test sets. 1 is defined as positive.</p>
<div>

</div>
<div id="ConfusionMatrixTrain" class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../Image/Naive_Bayes_Record/cm_train.png" class="img-fluid figure-img"></p>
<figcaption>Confusion Matrix for training dataset</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../Image/Naive_Bayes_Record/cm_test.png" class="img-fluid figure-img"></p>
<figcaption>Confusion Matrix for test dataset</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>From the training confusion matrix,</p>
<p><span class="math inline">\(precision = \frac{TP}{TP + FP} = \frac{11427}{11427 + 6967} = 0.6212\)</span></p>
<p><span class="math inline">\(recall = \frac{TP}{TP + FN} = \frac{11427}{11427 + 13490} = 0.4586\)</span></p>
<p>From the test confusion matrix,</p>
<p><span class="math inline">\(precision = \frac{TP}{TP + FP} = \frac{2919}{2919 + 1811} = 0.6171\)</span></p>
<p><span class="math inline">\(recall = \frac{TP}{TP + FN} = \frac{2919}{2919 + 3393} = 0.4624\)</span></p>
<p>Precision quantifies the number of correctly predicted positive instances relative to the total number of predicted positives. Recall, alternatively termed Sensitivity or True Positive Rate, quantifies how many of the true positive instances were successfully predicted. In the context of my research, the primary aim is to predict cardiovascular diseases. Consequently, it’s crucial to minimize False Positives, representing individuals diagnosed with cardiovascular diseases but incorrectly predicted otherwise. The recall values for both training and test datasets hover around 0.46, suggesting that nearly half of the true positives are overlooked.</p>
<p>In summary, the performance of the Naive Bayes model on the record data falls short, particularly in terms of recall and accuracy. The selected features - “age,” “ap_hi,” “ap_lo,” “cholesterol,” and “bmi” - appear inadequate for effective cardiovascular disease prediction. Given this model’s underwhelming metrics, exploring alternative machine learning techniques for better model construction is recommended. While we will retain the Naive Bayes results for benchmarking purposes, they will likely be referenced in the Naive Bayes section of any forthcoming research papers. Ultimately, a comparative table will feature these metrics alongside those of other models, enabling a more comprehensive assessment.</p>
</section>
<section id="naïve-bayes-nb-with-labeled-text-data" class="level2">
<h2 class="anchored" data-anchor-id="naïve-bayes-nb-with-labeled-text-data">Naïve Bayes (NB) with Labeled Text Data</h2>
<p>For the text data, I possess a sample of 400 records. I’ve partitioned this dataset into training and test sets, maintaining an 80/20 split, akin to the record data. The model, trained on this training set, is tasked with predicting whether the topic pertains to cardiovascular disease. I’ve opted for the Multinomial Naive Bayes model given its proven prowess in text classification tasks. The selected features consist of the first 100 words from the entire corpus of 3,622 words.</p>
<p>I achieved the following accuracy and F1-score values for the training and test data.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../Image/Naive_Bayes_Text/accuracy_f1_text.png" class="img-fluid figure-img"></p>
<figcaption>Accuracy &amp; F1-score</figcaption>
</figure>
</div>
<p>The model achieved a training accuracy of 0.91875 and a test accuracy of 0.6875. The notable disparity between these accuracies suggests that the model may be overfitting the training data. This overfitting could be attributed to the diverse nature of the text data and the limited dataset size. Increasing the number of data records in the future could mitigate this issue.</p>
<p>Comparatively, the test accuracy for text data is nearly 70%, markedly higher than that of the record data. This could highlight the inherent strength of the Multinomial Naive Bayes model in text classification tasks. However, the F1-scores provide a more nuanced view: with a training F1-score of 0.8375 and a test F1-score of 0.49, the model’s performance still remains suboptimal, especially considering that the test F1-score is even lower than that for record data.</p>
<div>

</div>
<div id="ConfusionMatrixText" class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../Image/Naive_Bayes_Text/cm_train.png" class="img-fluid figure-img"></p>
<figcaption>Confusion Matrix for training dataset</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../Image/Naive_Bayes_Text/cm_test.png" class="img-fluid figure-img"></p>
<figcaption>Confusion Matrix for test dataset</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>From the training confusion matrix,</p>
<p><span class="math inline">\(precision = \frac{TP}{TP + FP} = \frac{67}{67 + 16} = 0.8072\)</span></p>
<p><span class="math inline">\(recall = \frac{TP}{TP + FN} = \frac{67}{67 + 10} = 0.8701\)</span></p>
<p>From the test confusion matrix,</p>
<p><span class="math inline">\(precision = \frac{TP}{TP + FP} = \frac{12}{12 + 14} = 0.4615\)</span></p>
<p><span class="math inline">\(recall = \frac{TP}{TP + FN} = \frac{12}{12 + 11} = 0.5217\)</span></p>
<p>Upon analyzing the precision and recall scores, it’s evident that the scores for the training data substantially outpace those for the test data. This further highlights the previously noted overfitting issue. Specifically, the test data’s precision is 0.4615, falling below the halfway mark. This implies that a significant portion of the positives predicted are erroneous. Although the recall score fares slightly better at 0.5217, both these scores emphasize the model’s limited efficacy on the test data. Notably, the recall consistently surpasses the precision for both datasets, aligning with our research’s central objective of precisely identifying all true positives.</p>
<p>Given the nature of our research, the emphasis will remain on record data, relegating text data to a secondary role. The inherent structure of text data makes its results more challenging to decipher. Any significant findings pertaining to this will be documented in the Naive Bayes section, should this research culminate in a publication.</p>
<p>To sum up, while the Naive Bayes model for text data displays a commendable test accuracy, it grapples with overfitting, as evidenced by the stark performance disparity between training and test datasets. Examining the precision and recall metrics—both hovering between 50% and 60%—underscores the model’s underwhelming performance. Since the datasets for text and record data are intrinsically distinct, direct comparisons might not yield substantial insights. Moving forward, our research will primarily concentrate on the record data.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>